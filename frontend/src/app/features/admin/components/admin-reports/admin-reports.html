<div class="page">
  <main class="main">
    <div class="container">
      <div class="header">
        <div>
          <h1 class="title">Reports Management</h1>
          <p class="subtitle">View and manage content and user reports</p>
        </div>

        <a matButton routerLink="/admin" class="backButton"
          ><mat-icon>arrow_backward</mat-icon> Back to Dashboard</a
        >
      </div>

      <div class="statsGrid">
        <mat-card class="statCard">
          <div class="statHeader">
            <span class="statLabel"><mat-icon>group</mat-icon>User Reports</span>
            <i class="statIcon"></i>
          </div>
          <div class="statValue">{{ 154 }}</div>
        </mat-card>

        <mat-card class="statCard">
          <div class="statHeader">
            <span class="statLabel"><mat-icon>article</mat-icon>Post Reports</span>
            <i class="statIcon"></i>
          </div>
          <div class="statValue">{{ 124 }}</div>
        </mat-card>

        <mat-card class="statCard">
          <div class="statHeader">
            <span class="statLabel"><mat-icon>comment</mat-icon>Comment Reports</span>
            <i class="statIcon"></i>
          </div>
          <div class="statValue">{{ 11 }}</div>
        </mat-card>
      </div>

      <div class="reportsList">
        <mat-card *ngFor="let report of reports" class="reportItem">
          <div class="reportHeader">
            <div class="reportTitle">
              <h3 class="userName">{{ report.reportedUser }}</h3>
              <p class="userHandle">@{{ report.reportedUsername }}</p>
            </div>

            <div class="reportMeta">
              <span class="status" [ngClass]="'status-' + report.status">
                {{ report.status }}
              </span>
            </div>
          </div>

          <div class="reportContent">
            <div class="reportSection">
              <label class="label">Report Reason:</label>
              <p class="reason">{{ report.reason }}</p>
            </div>

            <div class="reportSection">
              <label class="label">Reported By:</label>
              <p class="reporter">{{ report.reporter }}</p>
            </div>

            <div class="reportSection">
              <label class="label">Reported:</label>
              <p class="date">{{ report.createdAt | date : 'medium' }}</p>
            </div>
          </div>

          <div class="reportActions">
            <button class="actionBtn banBtn" (click)="handleApprove(report.id)">
              Ban User & Approve
            </button>

            <button class="actionBtn declineBtn" (click)="handleDecline(report.id)">
              Decline Report
            </button>

            <button class="actionBtn deleteBtn" (click)="handleDelete(report.id)">
              Delete Report
            </button>
          </div>
        </mat-card>
      </div>
    </div>
  </main>
</div>
