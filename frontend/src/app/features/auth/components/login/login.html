@if (isLoading) {
<mat-progress-bar mode="indeterminate"></mat-progress-bar>
}
<mat-card-header class="d-flex flex-column mb-4">
  <mat-card-title class="text-center primary-text w-100 fs-4 fw-medium">
    Welcome Back!
  </mat-card-title>
</mat-card-header>

<mat-card-content>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="d-flex flex-column gap-3">
    <mat-form-field class="w-100">
      <mat-label>Email</mat-label>
      <input
        [disabled]="isLoading"
        matInput
        type="email"
        formControlName="email"
        required
        autocomplete="email"
        placeholder="Enter your email"
      />
      <mat-icon matSuffix>email</mat-icon>
      <mat-error *ngIf="form.get('email')?.hasError('required') && form.get('email')?.touched">
        Email is required
      </mat-error>
      <mat-error *ngIf="form.get('email')?.hasError('email') && form.get('email')?.touched">
        Enter a valid email
      </mat-error>
    </mat-form-field>

    <mat-form-field class="w-100">
      <mat-label>Password</mat-label>
      <input
        matInput
        [type]="hide ? 'password' : 'text'"
        formControlName="password"
        required
        placeholder="Enter your password"
        [disabled]="isLoading"
      />
      <button
        mat-icon-button
        matSuffix
        type="button"
        [disabled]="isLoading"
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
      >
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error
        *ngIf="form.get('password')?.hasError('required') && form.get('password')?.touched"
      >
        Password is required
      </mat-error>
    </mat-form-field>

    <button matButton="filled" class="primary" [disabled]="form.invalid">Login</button>
  </form>

  <!-- Divider -->
  <div class="d-flex align-items-center my-3">
    <hr class="flex-grow-1 border-secondary" />
    <span class="px-2 small text" style="color: #6a7282">OR</span>
    <hr class="flex-grow-1 border-secondary" />
  </div>

  <!-- <button matButton="filled" class="w-full google-btn">
    <i class="fa-brands fa-google"></i>
    Continue with Google
  </button> -->

  <p class="pt-3 text-center">
    <span class="text">You don't have an account? </span>
    <a class="primary-text text-decoration-underline" routerLink="/auth/register">Register</a>
  </p>
</mat-card-content>
